<form [formGroup]="ordenDetailForm" (ngSubmit)="onSubmit()">

    <div style="width: 80% !important;MARGIN: 0% 5% 0% 10%;">


        <div *ngFor="let i of customerssar">
            <div class="row col-xs-12">

                <div class="col" style="width: 80%;height: 25px;float: left; margin: 0% 0% 0% 0% ;padding: 0% 0% 0% 0%;font-family: Arial, sans-serif; 
                font-weight: bold;            
                font-size: 12px;             
                text-align: left;
                color:black;font-weight: bold;">
                    <h1>
                        {{i.companyname}} -New Order

                    </h1>

                </div>
            </div>
        </div>


        <div style="width: 100%;height: 25px;float: left; margin: 0% 0% 0% 0% ;padding: 0% 0% 0% 0%;"></div>
        <div class="row col-xs-6">
            <div class="col">
                <div style="width: 100%;height: 25px;float: left; margin: 0% 0% 0% 0% ;padding: 0% 0% 0% 0%;color: black;font-weight: bold;"> Order</div>
            </div>
            <div class="col">

            </div>
        </div>


        <div class="row col-xs-6">
            <div class="col">
                <label for="lfirstname">Employee</label>
                <select class="form-control" id="empid" name="empid" formControlName="empid" *ngIf="employeesar.length > 0">
                  <option value="" selected>Employee</option>
                  <option *ngFor="let emp of employeesar" value="{{emp.empid}}">{{ emp.firstname + ' '+ emp.lastname }}</option>
              </select>


            </div>
            <div class="col">
                <label for="llastname">Shipper</label>

                <select class="form-control" id="shipperid" name="shipperid" formControlName="shipperid" *ngIf="shipperssar.length > 0">
                  <option value="" selected>Shipper</option>
                  <option *ngFor="let ship of shipperssar" value="{{ship.shipperid}}">{{ ship.companyname }}</option>
              </select>
            </div>
        </div>

        <div class="row col-xs-12">
            <div class="col">
                <label for="lshipname">Ship Name</label>
                <input type="text" class="form-control" id="shipname" name="shipname" formControlName="shipname" placeholder="shipname">
            </div>
        </div>



        <div class="row col-xs-6">
            <div class="col">
                <label for="lshipaddress">Ship Address</label>
                <input type="text" class="form-control" id="shipaddress" name="shipaddress" formControlName="shipaddress" placeholder="shipaddress">
            </div>
            <div class="col">
                <label for="lshipcity">Ship City</label>

                <input type="text" class="form-control" id="shipcity" name="shipcity" formControlName="shipcity" placeholder="shipcity">
            </div>
            <div class="col">
                <label for="lshipcountry">Ship Country</label>

                <input type="text" class="form-control" id="shipcountry" name="shipcountry" formControlName="shipcountry" placeholder="shipcountry">
            </div>
        </div>


        <div class="row col-xs-6">
            <div class="col">
                <label for="lshipregion">shipregion</label>
                <input type="text" class="form-control" id="shipregion" name="shipregion" formControlName="shipregion" placeholder="shipregion">
            </div>
            <div class="col">
                <label for="lshippostalcode">shippostalcode</label>
                <input type="text" class="form-control" id="shippostalcode" name="shippostalcode" formControlName="shippostalcode" placeholder="shippostalcode">
            </div>
        </div>


        <div class="row col-xs-12">
            <div class="col">
                <mat-form-field appearance="fill">
                    <mat-label>Order Date</mat-label>
                    <input matInput [matDatepicker]="picker" formControlName="orderdate" placeholder="orderdate">
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
            </div>
            <div class="col">
                <mat-form-field appearance="fill">
                    <mat-label>Required Date</mat-label>
                    <input matInput [matDatepicker]="picker" formControlName="requireddate" placeholder="Required Date">
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
            </div>
            <div class="col">
                <mat-form-field appearance="fill">
                    <mat-label>Shipped Date</mat-label>
                    <input matInput [matDatepicker]="picker" formControlName="shippeddate" placeholder="Shipped Date">
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
            </div>
        </div>




        <div class="row col-xs-12">
            <div class="col">

                <input type="hidden" class="form-control" id="custid" name="custid" formControlName="custid" placeholder="custid">
            </div>

        </div>



        <div class="row col-xs-12">
            <div class="col">
                <label for="lfreight">Freight</label>
                <input type="text" class="form-control" id="freight" name="freight" formControlName="freight" placeholder="freight">
            </div>

        </div>

        <div style="width: 100%;height: 25px;float: left; margin: 0% 0% 0% 0% ;padding: 0% 0% 0% 0%;"></div>
        <div class="row col-xs-6">
            <div class="col">
                <div style="width: 100%;height: 25px;float: left; margin: 0% 0% 0% 0% ;padding: 0% 0% 0% 0%;color: black;font-weight: bold;"> Order Details</div>
            </div>
            <div class="col">

            </div>
        </div>

        <div class="row col-xs-12">
            <div class="col">
                <label for="lregion">Product</label>
                <select class="form-control" id="productid" name="productid" formControlName="productid" *ngIf="productssar.length > 0">
                  <option value="" selected>Product</option>
                   <input type="text" class="form-control mb-2" id="searchInput" placeholder="Search Product" onkeyup="filterDropdown()">
                  <option *ngFor="let prod of productssar" value="{{prod.productid}}">{{ prod.productname }}</option>
              </select>

            </div>
        </div>

        <div class="row col-xs-12">
            <div class="col">
                <label for="lcountry">Unit Price</label>
                <input type="text" class="form-control" id="unitprice" name="unitprice" formControlName="unitprice" placeholder="unitprice">
            </div>
            <div class="col">
                <label for="lphone">Quantity</label>

                <input type="text" class="form-control" id="qty" name="qty" formControlName="qty" placeholder="qty">
            </div>
            <div class="col">
                <label for="lphone">Discount</label>

                <input type="text" class="form-control" id="discount" name="discount" formControlName="discount" placeholder="discount">
            </div>
        </div>





        <div class="row col-xs-12">
            <div>&nbsp;
                <input type="hidden" class="form-control" id="orderid" name="orderid" formControlName="orderid" value="0">
            </div>
        </div>
        <div class="row col-xs-12">
            <div class="col" style=" text-align: center;">
                <button type="button" class="btn btn-primary" mat-dialog-close="true">Cancelar</button>
            </div>
            <div class="col" style=" text-align: center;">
                <button type="submit" [mat-dialog-close]="true" class="btn btn-success">Guardar</button>
            </div>
        </div>


        <div class="row col-xs-12">
            <div>&nbsp;</div>
        </div>
    </div>
</form>
<script>
    function filterDropdown() {
        const searchInput = document.getElementById('searchInput').value.toLowerCase();
        const options = document.querySelectorAll('#productid option');

        options.forEach(option => {
            const optionText = option.innerText.toLowerCase();
            if (optionText.includes(searchInput)) {
                option.style.display = 'block';
            } else {
                option.style.display = 'none';
            }
        });
    }
</script>